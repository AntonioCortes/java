<style>
    .title, .subtitle, strong {
        color: black !important;
    }
</style>
<h1 class="title">Patrón Front Controller</h1>

<p>El patrón <strong>Front Controller</strong> es un patrón de la arquitectura Java EE que centraliza el manejo de peticiones para una aplicación web. Un solo servlet recibe todas las llamadas y despacha a la vista correspondiente.</p>

<h2 class="subtitle">Propósito</h2>
<p>Evitar lógica duplicada en múltiples vistas y centralizar el control de navegación.</p>

<h2 class="subtitle">Caso de Uso Real: Spring MVC DispatcherServlet</h2>
<p><strong>Contexto:</strong> Una aplicación web tiene cientos de URLs (<code class="language-java">/login</code>, <code class="language-java">/products</code>, <code class="language-java">/checkout</code>). Cada una requiere inicializar recursos comunes, gestionar la internacionalización (i18n) y manejar errores globales.</p>

<p><strong>El Problema:</strong> Si usas un Servlet distinto para cada URL, tendrás que duplicar la lógica de inicialización en cada uno. Y si quieres cambiar cómo se manejan los errores, tendrás que cambiar cientos de clases.</p>

<p><strong>La Solución (Front Controller):</strong> Usas un único Servlet maestro (<code class="language-java">DispatcherServlet</code>) que recibe TODAS las peticiones.
<br>Este controlador central analiza la URL y decide a qué "Controlador" (clase POJO) o vista delegar el trabajo. Esto centraliza el enrutamiento, la seguridad y el manejo de errores en un solo punto.</p>

<h2 class="subtitle">Análisis de la Implementación</h2>

<ul>
    <li>
        <strong>Centralización:</strong> 
        <p>El Front Controller fuerza a que todas las peticiones pasen por un embudo común. Esto es crucial para frameworks de seguridad y monitorización, ya que garantiza que no hay "puertas traseras" (servlets olvidados que no pasan validaciones).</p>
    </li>
    <li>
        <strong>Separación de Navegación y Lógica:</strong> 
        <p>El controlador decide <em>qué</em> vista mostrar a continuación basándose en el resultado de la lógica de negocio, desacoplando la ejecución de la acción de la renderización de la respuesta.</p>
    </li>
</ul>

<h2 class="subtitle">Implementación</h2>

<div class="center-horizontal">
<pre><code class="language-java">
class FrontController {
    private Dispatcher dispatcher;
    public FrontController() { dispatcher = new Dispatcher(); }
    
    private boolean isAuthenticUser() {
        System.out.println("User is authenticated successfully.");
        return true;
    }
    
    public void dispatchRequest(String request) {
        // log each request
        trackRequest(request);
        if(isAuthenticUser()) {
            dispatcher.dispatch(request);
        }
    }
    
    private void trackRequest(String request) {
        System.out.println("Page requested: " + request);
    }
}
</code></pre>
</div>
<span class="center-horizontal caption">Ejemplo de Front Controller</span>
