<h1 class="title">Patrón Chain of Responsibility</h1>

<p>El patrón <strong>Chain of Responsibility</strong> es un patrón de comportamiento que permite pasar solicitudes a lo largo de una cadena de manejadores. Al recibir una solicitud, cada manejador decide si la procesa o si la pasa al siguiente manejador de la cadena.</p>

<h2 class="subtitle">Propósito</h2>
<p>Desacoplar el emisor de una solicitud de sus receptores, permitiendo que múltiples objetos tengan la oportunidad de manejarla.</p>

<h2 class="subtitle">Caso de Uso Real: Middleware en Servidores Web o Soporte Técnico</h2>
<p><strong>Contexto:</strong> En un servidor web (como Express.js o Spring Security), una petición HTTP entrante debe pasar por varios filtros: Autenticación, Logging, Compresión GZIP, y finalmente llegar al Controlador.</p>

<p><strong>El Problema:</strong> Si pones toda la lógica en una sola clase gigante (<code>if (auth) { if (log) { ... } }</code>), el código se vuelve inmanejable y difícil de extender. Añadir un nuevo filtro implica modificar la clase principal.</p>

<p><strong>La Solución (Chain of Responsibility):</strong> Cada filtro es un objeto independiente (Handler). Conectas estos objetos formando una cadena.
<br>La petición entra por el primer eslabón. Si un eslabón puede procesarla o necesita hacer algo previo, lo hace y luego pasa la petición al <em>siguiente</em> eslabón de la cadena, terminando cuando alguien la procesa por completo o la cadena termina.</p>

<h2 class="subtitle">Análisis de la Implementación</h2>

<ul>
    <li>
        <strong>Desacoplamiento Emisor-Receptores:</strong> 
        <p>El cliente que envía la petición solo conoce al primer manejador de la cadena. No sabe quién la terminará procesando ni cuántos pasos o filtros hay en medio.</p>
    </li>
    <li>
        <strong>Flexibilidad Dinámica:</strong> 
        <p>Puedes configurar y reordenar la cadena en tiempo de ejecución. Por ejemplo, desactivar el LoggingHandler sin recompilar el código, simplemente cambiando cómo se enlazan los objetos.</p>
    </li>
</ul>

<h2 class="subtitle">Implementación</h2>

<div class="center-horizontal">
<pre><code class="language-java">
abstract class Handler {
    protected Handler next;
    public void setNext(Handler next) { this.next = next; }
    public abstract void handleRequest(String request);
}

class AuthHandler extends Handler {
    public void handleRequest(String request) {
        if (request.equals("AUTH")) System.out.println("Autenticado");
        else if (next != null) next.handleRequest(request);
    }
}
</code></pre>
</div>
<span class="center-horizontal caption">Ejemplo de Chain of Responsibility</span>
